<?xml version="1.0" encoding="UTF-8"?>
<ruleset name="Custom Apex Ruleset"
         xmlns="http://pmd.sourceforge.net/ruleset/2.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://pmd.sourceforge.net/ruleset/2.0.0 
                             http://pmd.sourceforge.net/ruleset_2_0_0.xsd">

    <description>
        Custom ruleset for PMD Apex static code analysis.
    </description>

    <rule ref="category/apex/security.xml/ApexCRUDViolation" priority="1" message="Validate CRUD"/>
    <rule name="NoSystemDebug"
          language="apex"
          message="Avoid using System.debug in Apex classes."
          class="net.sourceforge.pmd.lang.rule.XPathRule"
          xmlns="http://pmd.sourceforge.net/ruleset/2.0.0">
        
        <description>
            This rule ensures that no Apex class contains 'System.debug' statements.
        </description>
        
        <priority>1</priority>
        
        <properties>
            <property name="xpath">
                <value><![CDATA[
                    //MethodCallExpression[
                        starts-with(@Image, 'System.debug')
                    ]
                ]]></value>
            </property>
        </properties>
    </rule>
</ruleset>